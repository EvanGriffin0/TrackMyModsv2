<ion-header>
  <ion-toolbar style="--background: #000;">
    <!-- Back Button (or you can add another if needed) -->
    <ion-buttons slot="start">
      <ion-button (click)="goBack()">
        <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title style="color: #FFA500;">Settings</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <!-- Vehicle Selection -->
  <ion-item>
    <ion-label>Select Vehicle</ion-label>
    <ion-select [(ngModel)]="selectedVehicleId">
      <ion-select-option 
        *ngFor="let vehicle of vehicles$ | async" 
        [value]="vehicle.id">
        {{ vehicle.vehicleName }}
      </ion-select-option>
    </ion-select>
  </ion-item>

  <!-- Modification Form -->
  <ion-item>
    <ion-label position="stacked">Modification Name</ion-label>
    <ion-input [(ngModel)]="modification.name"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="stacked">Cost</ion-label>
    <ion-input type="number" [(ngModel)]="modification.cost"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="stacked">Type</ion-label>
    <ion-select [(ngModel)]="modification.type">
      <ion-select-option value="performance">Performance</ion-select-option>
      <ion-select-option value="cosmetic">Cosmetic</ion-select-option>
    </ion-select>
  </ion-item>

  <ion-item>
    <ion-label position="stacked">Description</ion-label>
    <ion-textarea [(ngModel)]="modification.description"></ion-textarea>
  </ion-item>

  <ion-button expand="block" (click)="saveModification()" 
    [disabled]="!selectedVehicleId || !modification.name">
    Save Modification
  </ion-button>

  <!-- Bottom Navigation -->
  <div class="bottom-nav">
    <ion-grid>
      <ion-row>
        <!-- Garage -->
        <ion-col class="ion-text-center">
          <ion-button (click)="goToGarage()" fill="clear" routerLink="/garage">
            <ion-icon name="car-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <!-- Maps (Nearest Track) -->
        <ion-col class="ion-text-center">
          <ion-button (click)="goToTrackFinder()" fill="clear" routerLink="/track-finder">
            <ion-icon name="map-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <!-- Modifications -->
        <ion-col class="ion-text-center">
          <ion-button (click)="goToModifications()"  fill="clear" routerLink="/modifications">
            <ion-icon name="hammer-outline"></ion-icon>
          </ion-button>
        </ion-col>
        <!-- Rider Stats -->
        <ion-col class="ion-text-center">
          <ion-button (click)="goToTrackMode()" fill="clear" routerLink="/track-mode">
            <ion-icon name="stats-chart-outline"></ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>